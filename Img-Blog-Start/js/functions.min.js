define(["jquery","core/theme-app","core/theme-tpl-tags","core/modules/storage","theme/js/bootstrap.min","theme/js/auth/auth-pages.min","theme/js/auth/simple-login.min","theme/js/auth/premium-posts.min","theme/js/comments.min"],function(e,t,n,a){function s(){var t=e(".navbar-toggle").eq(0);t.hasClass("collapsed")||t.click()}function r(){window.scrollTo(0,0)}function l(e){window.open(e,"_blank","location=yes")}var o=e("#refresh-button");o.click(function(e){e.preventDefault(),s(),t.refresh()}),t.on("refresh:start",function(){o.addClass("refreshing")}),t.on("refresh:end",function(t){r(),a.clear("scroll-pos"),o.removeClass("refreshing"),t.ok?e("#feedback").removeClass("error").html("Content updated successfully :)").slideDown():e("#feedback").addClass("error").html(t.message).slideDown()}),t.on("error",function(t){e("#feedback").addClass("error").html(t.message).slideDown()}),e("body").click(function(t){e("#feedback").slideUp()});var i=e("#go-back");t.on("screen:showed",function(){var e=t.getBackButtonDisplay();"show"===e?(o.hide(),i.show()):"hide"===e&&(i.hide(),o.show())}),i.click(function(e){e.preventDefault(),t.navigateToPreviousScreen()}),e("#app-content-wrapper").on("click","li.media",function(n){n.preventDefault();var a=e("a",this).attr("href");t.navigate(a)}),e("#slide-nav").on("click","a",function(e){s()}),e("#page-content").on("click",".single-content a, .page-content a",function(e){e.preventDefault(),l(e.target.href)}),e("#page-content").on("click",".comments",function(n){n.preventDefault(),e("#waiting").show(),t.displayPostComments(e(this).attr("data-post-id"),function(e,t,n){},function(t){e("#waiting").hide()})}),e("#app-content-wrapper").on("click",".get-more",function(n){n.preventDefault();var a=e(this),o=a.text();a.attr("disabled","disabled").text("Loading..."),t.getMoreComponentItems(function(){a.removeAttr("disabled")},function(e,t){a.removeAttr("disabled").text(o)})}),t.on("screen:leave",function(t,n,o){"list"==t.screen_type&&a.set("scroll-pos",t.fragment,e("body").scrollTop())}),t.on("screen:showed",function(t,n){if("list"==t.screen_type){var o=a.get("scroll-pos",t.fragment);null!==o?e("body").scrollTop(o):r()}else r();"comments"==t.screen_type&&e("#waiting").hide()}),e(document).ready(function(){e("#slide-nav.navbar .container").append(e('<div id="navbar-height-col"></div>'));var t=".navbar-toggle",n="#page-content",a=".navbar-header",i="80%",s="-100%",r="-80%";e("#slide-nav").on("click",t,function(t){var o=e(this).hasClass("slide-active");e("#slidemenu").stop().animate({left:o?s:"0px"}),e("#navbar-height-col").stop().animate({left:o?r:"0px"}),e(n).stop().animate({left:o?"0px":i}),e(a).stop().animate({left:o?"0px":i}),e(this).toggleClass("slide-active",!o),e("#slidemenu").toggleClass("slide-active"),e("#page-content, .navbar, body, .navbar-header").toggleClass("slide-active")});var l="#slidemenu, #page-content, .navbar, .navbar-header";e(window).on("resize",function(){e(window).width()>768&&e(".navbar-toggle").is(":hidden")&&e(l).removeClass("slide-active")})})});
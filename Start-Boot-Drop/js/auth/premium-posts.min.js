define(["core/theme-app","core/modules/authentication"],function(e,t){var n="";e.filter("redirect",function(o,a,s){var r=t.getCurrentUser();return"login-page"!=a.item_id&&(n=""),r||"list"==a.screen_type||"login-page"==a.item_id||"user-page"==a.item_id?r&&"login-page"==a.item_id&&(e.navigate("user-page"),o=!0):(n=a.fragment,e.navigate("login-page"),o=!0),o}),e.on("info",function(t){switch(t.event){case"auth:user-login":n.length&&e.navigate(n);break;case"auth:user-logout":e.reloadCurrentScreen()}})});